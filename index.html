<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>폭탄 해제 게임 타이머</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #222;
    color: #eee;
    text-align: center;
    padding: 20px;
  }
  h1 {
    margin-bottom: 10px;
  }
  #bomb {
    margin: 20px auto;
    position: relative;
    width: 200px;
    height: 200px;
    background: #444;
    border-radius: 50%;
    box-shadow: 0 0 30px red;
  }
  .wire {
    position: absolute;
    width: 10px;
    height: 60px;
    background: gray;
    border-radius: 5px;
    opacity: 0; /* 기본은 안 보임 */
    transition: opacity 0.3s ease;
  }
  /* 선 위치 */
  #wire1 { top: 10px; left: 40px; transform: rotate(-30deg); }
  #wire2 { top: 10px; left: 85px; }
  #wire3 { top: 10px; right: 40px; transform: rotate(30deg); }
  #wire4 { bottom: 40px; left: 30px; transform: rotate(-70deg); }
  #wire5 { bottom: 40px; right: 30px; transform: rotate(70deg); }

  #timer {
    font-size: 48px;
    margin-top: 20px;
    font-weight: bold;
  }

  #startBtn, #resetBtn {
    margin-top: 30px;
    padding: 10px 20px;
    font-size: 18px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  #startBtn {
    background-color: #2e8b57;
    color: white;
  }

  #resetBtn {
    background-color: #555;
    color: white;
    margin-left: 15px;
  }

  #message {
    margin-top: 25px;
    font-size: 24px;
  }
</style>
</head>
<body>

<h1>💣 폭탄 해제 게임</h1>

<div id="bomb">
  <div class="wire" id="wire1"></div>
  <div class="wire" id="wire2"></div>
  <div class="wire" id="wire3"></div>
  <div class="wire" id="wire4"></div>
  <div class="wire" id="wire5"></div>
</div>

<div id="timer">10</div>

<button id="startBtn">게임 시작</button>
<button id="resetBtn" disabled>다시 시작</button>

<div id="message"></div>

<script>
  const wires = [
    document.getElementById('wire1'),
    document.getElementById('wire2'),
    document.getElementById('wire3'),
    document.getElementById('wire4'),
    document.getElementById('wire5'),
  ];

  const colors = ['blue', 'yellow', 'red', 'purple', 'green'];
  let timerEl = document.getElementById('timer');
  let messageEl = document.getElementById('message');
  let startBtn = document.getElementById('startBtn');
  let resetBtn = document.getElementById('resetBtn');

  let timeLeft = 10;
  let timerInterval;
  let wiresTimeout;

  // 게임 초기화 및 랜덤 색 지정
  function initGame() {
    timeLeft = 10;
    timerEl.textContent = timeLeft;
    messageEl.textContent = '';
    resetBtn.disabled = true;
    startBtn.disabled = false;

    // 모든 선 숨기기 & 회색으로 초기화
    wires.forEach(wire => {
      wire.style.opacity = '0';
      wire.style.backgroundColor = 'gray';
    });

    // 랜덤 색 지정
    const shuffledColors = colors.slice().sort(() => Math.random() - 0.5);
    for (let i = 0; i < wires.length; i++) {
      wires[i].style.backgroundColor = shuffledColors[i];
    }
  }

  // 선 1초간 보여주기
  function showWiresBriefly() {
    wires.forEach(wire => {
      wire.style.opacity = '1';
    });

    wiresTimeout = setTimeout(() => {
      wires.forEach(wire => {
        wire.style.opacity = '0';
      });
    }, 1000);
  }

  // 타이머 시작
  function startTimer() {
    startBtn.disabled = true;
    resetBtn.disabled = false;
    timeLeft = 10;
    timerEl.textContent = timeLeft;

    // 1초간 선 보여주기
    showWiresBriefly();

    timerInterval = setInterval(() => {
      timeLeft--;
      timerEl.textContent = timeLeft;

      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        messageEl.textContent = '💥 폭탄이 터졌습니다! 게임 오버!';
        resetBtn.disabled = false;
      }
    }, 1000);
  }

  // 초기화
  initGame();

  // 버튼 이벤트
  startBtn.addEventListener('click', () => {
    startTimer();
  });

  resetBtn.addEventListener('click', () => {
    clearInterval(timerInterval);
    clearTimeout(wiresTimeout);
    initGame();
  });
</script>

</body>
</html>
